{% extends "base.html" %}

{% block head %}
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='analysisstyle.css') }}">
    <script src="{{ url_for('static', filename='analysisscript.js') }}"></script>
{% endblock %}

{% block content %}
    <form method="GET" id="trip_creation_form"></form>

    <button type="submit" form="trip_creation_form">Generate Route</button>
    <table class="table table-striped table-hover table-bordered table-sm">
        <thead>
            <tr>
                <th>Species</th>
                {% for hotspot in hotspots %}
                    <th>{{ hotspot }}</th>
                {% endfor %}
            </tr>
            <tr id="includeRow">
                <td></td>
                {% for hotspot in hotspots %}
                    <td><input form="trip_creation_form" type="checkbox" name="{{''.join(hotspot.split())}}" id="" class ="includeCB"  onclick="toggleActive()" checked></td>
                {% endfor %}
            </tr>
        </thead>
        <tbody>
            {% for species in birds %}
                <tr class="spRow {{ ''.join(species.split()) }}" }}>
                    <td class="spName">{{ species }}</td>
                    {% for hotspot in hotspots %}
                        {% if birds[species][hotspot] == "-" %}
                            <td class="noObs active {{ ''.join(hotspot.split()) }}" >{{ birds[species][hotspot] }}</td>
                        {% elif birds[species][hotspot] == "<1%" %}
                            <td class="lowObs active {{ ''.join(hotspot.split()) }}">{{ birds[species][hotspot] }}</td>
                        {% elif birds[species][hotspot] == ">99%" %}
                            <td class="highObs active {{ ''.join(hotspot.split()) }}">{{ birds[species][hotspot] }}</td>
                        {% else %}
                            <td class="birdObs active {{ ''.join(hotspot.split()) }}">{{ birds[species][hotspot] }}</td>
                        {% endif %}
                    {% endfor %}
                </tr>
            {% endfor %}
        </tbody>
    </table>
    

{% endblock %}